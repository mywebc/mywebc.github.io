<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>canvas画图API整理 - Asher&#39;s blog</title><meta name="Description" content="自由自在,热爱生活"><meta property="og:title" content="canvas画图API整理" />
<meta property="og:description" content="
canvas 是 HTML5 提供的一个用于展示绘图效果的标签.
canvas 原意画布, 帆布. 在 HTML 页面中用于展示绘图效果. 基本语法：


使用 canvas 标签, 即可在页面中开辟一格区域. 可以设置其 width 和 height 设置该区域的尺寸.
默认 canvas 的宽高为 300 和 150.
不要使用 CSS 的方式设置宽高, 应该使用 HTML 属性.
如果浏览器不支持 canvas 标签, 那么就会将其解释为 div 标签. 因此常常在 canvas 中嵌入文本, 以提示用户浏览器的能力.
canvas 的兼容性非常强, 只要支持该标签的, 基本功能都一样, 因此不用考虑兼容性问题.
canvas 本身不能绘图. 是使用 JavaScript 来完成绘图. canvas 对象提供了各种绘图用的 api.
基本使用方法：
获得 canvas 对象.
调用 getContext 方法, 提供字符串参数 &lsquo;2d&rsquo;.
该方法返回 CanvasRenderingContext2D 类型的对象. 该对象提供基本的绘图命令.
使用 CanvasRenderingContext2D 对象提供的方法进行绘图.
基本绘图命令

设置开始绘图的位置: context.moveTo( x, y ).
设置直线到的位置: context.lineTo( x, y ).
描边绘制: context.stroke().
填充绘制: context.fill().
闭合路径: context.closePath().


" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://example.org/canvas%E7%94%BB%E5%9B%BEapi%E6%95%B4%E7%90%86/" /><meta property="og:image" content="http://example.org/images/me/haha.jpeg"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-09-26T07:51:10&#43;00:00" />
<meta property="article:modified_time" content="2017-09-26T07:51:10&#43;00:00" /><meta property="og:site_name" content="我的网站" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="http://example.org/images/me/haha.jpeg"/>

<meta name="twitter:title" content="canvas画图API整理"/>
<meta name="twitter:description" content="
canvas 是 HTML5 提供的一个用于展示绘图效果的标签.
canvas 原意画布, 帆布. 在 HTML 页面中用于展示绘图效果. 基本语法：


使用 canvas 标签, 即可在页面中开辟一格区域. 可以设置其 width 和 height 设置该区域的尺寸.
默认 canvas 的宽高为 300 和 150.
不要使用 CSS 的方式设置宽高, 应该使用 HTML 属性.
如果浏览器不支持 canvas 标签, 那么就会将其解释为 div 标签. 因此常常在 canvas 中嵌入文本, 以提示用户浏览器的能力.
canvas 的兼容性非常强, 只要支持该标签的, 基本功能都一样, 因此不用考虑兼容性问题.
canvas 本身不能绘图. 是使用 JavaScript 来完成绘图. canvas 对象提供了各种绘图用的 api.
基本使用方法：
获得 canvas 对象.
调用 getContext 方法, 提供字符串参数 &lsquo;2d&rsquo;.
该方法返回 CanvasRenderingContext2D 类型的对象. 该对象提供基本的绘图命令.
使用 CanvasRenderingContext2D 对象提供的方法进行绘图.
基本绘图命令

设置开始绘图的位置: context.moveTo( x, y ).
设置直线到的位置: context.lineTo( x, y ).
描边绘制: context.stroke().
填充绘制: context.fill().
闭合路径: context.closePath().


"/>
<meta name="application-name" content="我的网站">
<meta name="apple-mobile-web-app-title" content="我的网站"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://example.org/canvas%E7%94%BB%E5%9B%BEapi%E6%95%B4%E7%90%86/" /><link rel="prev" href="http://example.org/%E7%AE%80%E8%BF%B0css3%E4%B8%AD%E7%9A%84%E5%8A%A8%E7%94%BB/" /><link rel="next" href="http://example.org/canvas%E5%B0%8F%E6%A1%88%E4%BE%8Bfly-birds/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "canvas画图API整理",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/example.org\/canvas%E7%94%BB%E5%9B%BEapi%E6%95%B4%E7%90%86\/"
        },"genre": "posts","keywords": "canvas","wordcount":  2492 ,
        "url": "http:\/\/example.org\/canvas%E7%94%BB%E5%9B%BEapi%E6%95%B4%E7%90%86\/","datePublished": "2017-09-26T07:51:10+00:00","dateModified": "2017-09-26T07:51:10+00:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "陈晓拉尼-Asher"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Asher&#39;s blog"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span><span id="id-1" class="typeit"></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 所有文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="/link/"> 友链 </a><a class="menu-item" href="/about/"> 关于 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Asher&#39;s blog"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span><span id="id-2" class="typeit"></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="">所有文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="/link/" title="">友链</a><a class="menu-item" href="/about/" title="">关于</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">canvas画图API整理</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>陈晓拉尼-Asher</a></span>&nbsp;<span class="post-category">included in <a href="/categories/css/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>CSS</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2017-09-26">2017-09-26</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;2492 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;5 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents"></nav></div>
            </div><div class="content" id="content"><blockquote>
<p>canvas 是 HTML5 提供的一个用于展示绘图效果的标签.
canvas 原意画布, 帆布. 在 HTML 页面中用于展示绘图效果. 基本语法：</p>
</blockquote>
<ol>
<li>使用 canvas 标签, 即可在页面中开辟一格区域. 可以设置其 width 和 height 设置该区域的尺寸.</li>
<li>默认 canvas 的宽高为 300 和 150.</li>
<li>不要使用 CSS 的方式设置宽高, 应该使用 HTML 属性.</li>
<li>如果浏览器不支持 canvas 标签, 那么就会将其解释为 div 标签. 因此常常在 canvas 中嵌入文本, 以提示用户浏览器的能力.</li>
<li>canvas 的兼容性非常强, 只要支持该标签的, 基本功能都一样, 因此不用考虑兼容性问题.</li>
<li>canvas 本身不能绘图. 是使用 JavaScript 来完成绘图. canvas 对象提供了各种绘图用的 api.
基本使用方法：</li>
<li>获得 canvas 对象.</li>
<li>调用 getContext 方法, 提供字符串参数 &lsquo;2d&rsquo;.</li>
<li>该方法返回 CanvasRenderingContext2D 类型的对象. 该对象提供基本的绘图命令.</li>
<li>使用 CanvasRenderingContext2D 对象提供的方法进行绘图.</li>
<li>基本绘图命令
<ul>
<li>设置开始绘图的位置: context.moveTo( x, y ).</li>
<li>设置直线到的位置: context.lineTo( x, y ).</li>
<li>描边绘制: context.stroke().</li>
<li>填充绘制: context.fill().</li>
<li>闭合路径: context.closePath().</li>
</ul>
</li>
</ol>
<p>示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span> <span class="s1">&#39;canvas&#39;</span> <span class="p">);</span> 
<span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="mi">500</span><span class="p">;</span> 
<span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="mi">400</span><span class="p">;</span> 
<span class="nx">canvas</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">border</span> <span class="o">=</span> <span class="s1">&#39;1px dashed red&#39;</span><span class="p">;</span> 
<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span> <span class="nx">canvas</span> <span class="p">);</span> 
<span class="c1">// 获得 CanvasRenderingContext2D 
</span><span class="c1"></span><span class="nx">对象</span> <span class="kd">var</span> <span class="nx">context</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span> <span class="s1">&#39;2d&#39;</span> <span class="p">);</span> 
<span class="c1">// 设置 起点 context.moveTo( 0, 0 ); 
</span><span class="c1">// 绘制直线 context.lineTo( 500, 400 ); 
</span><span class="c1">// 设置 起点 context.moveTo( 0, 400 ); 
</span><span class="c1">// 绘制直线 context.lineTo( 500, 0 ); 
</span><span class="c1">// 描边显示效果 context.stroke(); 
</span></code></pre></td></tr></table>
</div>
</div><p>其他常用API：
<strong>（一）绘制线型</strong></p>
<ul>
<li>canvas.lineWidth=number //设置线宽</li>
<li>canvas.lineCap=&lsquo;butt&rsquo;( 默认 ), &lsquo;round&rsquo;, &lsquo;square&rsquo; //设置线末端的样式</li>
<li>canvas.lineJoin=&lsquo;round&rsquo;（圆角）, &lsquo;bevel&rsquo;（平切）, &lsquo;miter&rsquo;(默认)（直角） //设置线末端的连接方式</li>
<li>canvas.lineDashOffset=number //虚线起始偏移量</li>
<li>canvas.setLineDash（） //设置虚线偏移量，数组形式，可以传多个参数</li>
<li>canvas.getLineDash（） //获取虚线偏移量，以数组形式返回</li>
<li>canvas.strokeStyle=value //设置描边的颜色</li>
<li>canvas.fillStyle=value //设置填充的颜色 这里注意：要先填充，再描边
<strong>（二）绘制形状</strong></li>
</ul>
<ol>
<li>绘制矩形：</li>
</ol>
<ul>
<li>canvas.strokeRect(x,y,width,height) //x,y表示矩形左上角坐标，后面两个参数表示宽高，此方法只是画出了路劲，还需要描边。</li>
<li>canvas.fillRect(x,y,width,height) //参数与上面相同，这个是填充矩形，默认填充颜色为黑色。</li>
<li>canvas.clearRect( x, y, width, height ) //参数与上面相同，清除目标矩形区域内的内容。</li>
</ul>
<ol start="2">
<li>绘制圆弧：
canvas.arc( x, y, radius. startAngle. endAngle, anticlockwise ) //x,y表示圆心，radius表示半斤，后面两个表示起始角度，最后一个表示方向默认为正，传入true为逆时针。
注意：开始绘制圆弧前，如果设置了moveTo，就会形成圆弧。</li>
<li>绘制文本：</li>
</ol>
<ul>
<li>canvas.fillText( text, x, y,maxWidth]) //填充文本，text为文本信息，x,y表示绘制的起点坐标，maxWidth表示限制文本最大宽度，一般不设他会自动设置。</li>
<li>canvas.strokeText( text, x, y,maxWidth]) //描边文本，参数值与上面相同。 canvas.measureText() //获取文本的一些信息，返回TextMetrics对象.这个对象有很多属性，常用width等。</li>
<li>canvas.font（） //设置字体的一些信息，语法与CSS相同，其顺序可以是: style | variant | weight | size/line-height | family.</li>
<li>canvas.textAlign（）//设置文字对齐方式， start( 默认 ), end, left, right, center.</li>
<li>canvas.textBaseline（） //设置字体垂直对齐方式，可以取值： top, middle, bottom, hanging, alphabetic（字母基线）, ideographic（表意对齐）</li>
</ul>
<ol start="4">
<li>绘制图形：</li>
</ol>
<ul>
<li>canvas.drawImage( img, dx, dy ) //img是图像对象，可以是img ，video，或者是另一个canvas，x,y为放置的位置。
注意这里的图片对象必须是已经加载完的，可以把它放到onload事件里。</li>
<li>canvas.drawImage(img, dx, dy, dWidth, dHeight) //与上面不同的是，这里多了两个参数指定图像宽高，这样是可以压缩图形的。</li>
<li>canvas.drawImage(img, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight) //这里面的意思就是把前面指定图像中的位置，剪切下来放到canvas指定区域中去。</li>
</ul>
<p><strong>（三）变换</strong></p>
<ul>
<li>canvas.scale(x,y) a)参数 x 控制水平缩放倍率. 传参 1 表示不作缩放, 传入大于 1 的数字表示扩大. B)参数 y 控制垂直缩放倍率. 传参 1 表示不作缩放, 传入大于 1 的数字表示扩大.</li>
<li>canvas.translate(x,y) a)x 表示水平移动, 正数向右, 负数向左. b)y 表示垂直移动, 正数向下, 负数向上. canvas.rotate(radian)</li>
</ul>
<ol>
<li>正数表示顺时针旋转, 负数表示逆时针旋转. canvas.transform(a,b,c,d,e,f) a)其中 a 有时又标记为 m11. 它表示水平缩放.</li>
<li>其中 b 有时又标记为 m12. 它表示水平倾斜.</li>
<li>其中 c 有时又标记为 m21. 它表示垂直倾斜.</li>
<li>其中 d 有时又标记为 m22. 它表示垂直缩放. e)其中 e 有时又标记为 dx. 它表示水平移动. f)其中 f 有时又标记为 dy. 它表示垂直移动.</li>
</ol>
<ul>
<li>canvas.setTransForm(a,b,c,d,e,f) a)他会重置transform属性，只会影响后来的变换，会以相同参数运行transform（）；</li>
</ul>
<p><strong>（四）保存和回滚</strong></p>
<ul>
<li>canvas.save()//保存状态</li>
<li>canvas.restore()//回滚上一次的状态 这里注意：如果 save 两次, 就需要 restore 两次, 才可以恢复到最先的状态. 绘制好后的canvas保存</li>
</ul>
<ol>
<li>直接右击另存为</li>
<li>或者使用 js 代码将其保存为 base64 编码的字符串Canvas.ToDataURL( type, encoderOptions )type 表示输出类型.
例如: image/png 或 image/jpeg 等encoderOptions 表示图片输出质量, 其取值在 0 到 1 之间.
如果是 1, 表示无损压缩, 必须使用 image/jpeg 或 image/webp 才起作用</li>
</ol>
<p><strong>（五）渐变和图案</strong></p>
<ul>
<li>canvas.createLinearGradient( x0, y0, x1, y1 )
<ol>
<li>该方法返回一个 CanvasGradient 对象. 用于描述渐变的方式.</li>
<li>该方法有两个参数, 用于表示线型渐变的方向与位置.</li>
<li>使用的时候, 首先创建一个 CanvasGradient 对象, 然后利用 addColorStop 方法添加颜色区间.</li>
<li>方法语法: CanvasGradient.addColorStop( rate, color ).</li>
<li>该方法用于设置在某个比例位置的颜色是什么. rate 的取值是 0 到 1 之间.</li>
<li>可以添加多个渐变点.</li>
<li>然后将该对象赋值给 *Style 属性即可.
示例：</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">canvasGradient</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">createLinearGradient</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">25</span> <span class="p">);</span>
 <span class="nx">canvasGradient</span><span class="p">.</span><span class="nx">addColorStop</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span> <span class="p">);</span> 
 <span class="nx">canvasGradient</span><span class="p">.</span><span class="nx">addColorStop</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span> <span class="p">);</span> 
 <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="nx">canvasGradient</span><span class="p">;</span> 
 <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">50</span> <span class="p">);</span> 
</code></pre></td></tr></table>
</div>
</div><ul>
<li>canvas.createRadialGradient( x0, y0, r0, x1, y1, r1 )</li>
</ul>
<ol>
<li>该方法实现放射渐变, 渐变的是在两个圆之间. 一般会使用两个内含关系的圆.</li>
<li>前三个参数分别表示其中一个圆的圆心的坐标, 以及半径.</li>
<li>后三个参数分别表示另一个圆的圆心的坐标, 以及半径.</li>
<li>绘制渐变效果用法与线性渐变一样.</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">cas</span><span class="p">.</span><span class="nx">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> 
<span class="nx">y</span> <span class="o">=</span> <span class="nx">cas</span><span class="p">.</span><span class="nx">height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> 
<span class="nx">r</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span> 
<span class="kd">var</span> <span class="nx">g</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">createRadialGradient</span><span class="p">(</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">r</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">/</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">y</span> <span class="o">-</span> <span class="nx">r</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">/</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">r</span> <span class="o">/</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">y</span> <span class="o">-</span> <span class="nx">r</span> <span class="o">/</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">r</span> <span class="o">*</span> <span class="mi">4</span> <span class="o">/</span> <span class="mi">3</span> <span class="p">);</span> 
<span class="nx">g</span><span class="p">.</span><span class="nx">addColorStop</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;#fff&#39;</span> <span class="p">);</span>
 <span class="nx">g</span><span class="p">.</span><span class="nx">addColorStop</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;#f00&#39;</span> <span class="p">);</span> 
 <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="nx">g</span><span class="p">;</span> 
 <span class="nx">ctx</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">r</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="p">);</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">fill</span><span class="p">();</span> 
</code></pre></td></tr></table>
</div>
</div><ul>
<li>canvas.createPattern( img, repetition )</li>
</ul>
<ol>
<li>该方法表示使用图片来填充的设置方法. 需要两个参数, 一个是图片, 一个是重复的方式.</li>
<li>图片允许是 img 标签, 图片, canvas 等对象</li>
<li>可选择的重复方式与 CSS 一致. 有: repeat, repeat-x, repeat-y, no-repeat.</li>
<li>如果是 空或&quot;&quot;, 但不是 undefined, 默认就是 repeat.</li>
</ol>
</li>
</ul>
<p><strong>（六）阴影</strong></p>
<ul>
<li>在 Canvas 中还可以给绘制的内容设置阴影. 但是一般不这么用, 因为性能不高. 相关属性:</li>
</ul>
<ol>
<li>canvas.shadowBlur 属性表示模糊程度.</li>
<li>canvas.shadowColor 属性表示模糊颜色.</li>
<li>canvas.shadowOffsetX 属性表示模糊位置 x 坐标偏移.</li>
<li>canvas.shadowOffsetY 属性表示模糊位置 y 坐标偏移.</li>
</ol></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2017-09-26</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/canvas%E7%94%BB%E5%9B%BEapi%E6%95%B4%E7%90%86/index.md" target="_blank">Read Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="http://example.org/canvas%E7%94%BB%E5%9B%BEapi%E6%95%B4%E7%90%86/" data-title="canvas画图API整理" data-hashtags="canvas"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="http://example.org/canvas%E7%94%BB%E5%9B%BEapi%E6%95%B4%E7%90%86/" data-hashtag="canvas"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="http://example.org/canvas%E7%94%BB%E5%9B%BEapi%E6%95%B4%E7%90%86/" data-title="canvas画图API整理"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="http://example.org/canvas%E7%94%BB%E5%9B%BEapi%E6%95%B4%E7%90%86/" data-title="canvas画图API整理"><i data-svg-src="/lib/simple-icons/icons/line.min.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="http://example.org/canvas%E7%94%BB%E5%9B%BEapi%E6%95%B4%E7%90%86/" data-title="canvas画图API整理"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/canvas/">canvas</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/%E7%AE%80%E8%BF%B0css3%E4%B8%AD%E7%9A%84%E5%8A%A8%E7%94%BB/" class="prev" rel="prev" title="简述CSS3中的动画"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>简述CSS3中的动画</a>
            <a href="/canvas%E5%B0%8F%E6%A1%88%E4%BE%8Bfly-birds/" class="next" rel="next" title="canvas小案例：fly birds">canvas小案例：fly birds<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
<div id="comments"><div id="giscus" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://giscus.app">Giscus</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.82.0">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2019 - 2023</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">陈晓拉尼-Asher</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/typeit/index.umd.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/contrib/auto-render.min.js"></script><script type="text/javascript" src="/lib/katex/contrib/copy-tex.min.js"></script><script type="text/javascript" src="/lib/katex/contrib/mhchem.min.js"></script><script type="text/javascript" src="/lib/cookieconsent/cookieconsent.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{"giscus":{"category":"Announcements","categoryId":"DIC_kwDOKwsBjM4CbKFB","darkTheme":"dark","emitMetadata":"0","inputPosition":"bottom","lang":"en","lazyLoading":false,"lightTheme":"light","mapping":"pathname","reactionsEnabled":"1","repo":"mywebc/blog-comments","repoId":"R_kgDOKwsBjA"}},"cookieconsent":{"content":{"dismiss":"Got it!","link":"Learn more","message":"This website uses Cookies to improve your experience."},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"data":{"id-1":"Asher's blog","id-2":"Asher's blog"},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":true,"left":"\\begin{equation}","right":"\\end{equation}"},{"display":true,"left":"\\begin{equation*}","right":"\\end{equation*}"},{"display":true,"left":"\\begin{align}","right":"\\end{align}"},{"display":true,"left":"\\begin{align*}","right":"\\end{align*}"},{"display":true,"left":"\\begin{alignat}","right":"\\end{alignat}"},{"display":true,"left":"\\begin{alignat*}","right":"\\end{alignat*}"},{"display":true,"left":"\\begin{gather}","right":"\\end{gather}"},{"display":true,"left":"\\begin{CD}","right":"\\end{CD}"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":50,"type":"lunr"},"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"id-1":["id-1"],"id-2":["id-2"]},"duration":-1,"speed":100}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
